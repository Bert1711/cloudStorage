2023-09-23 11:49:11.289  WARN 3678 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1d16m26s142ms).
2023-09-23 12:04:39.204  WARN 3678 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=25s285ms), soft-evicting connections from pool.
2023-09-23 12:10:30.565  WARN 3678 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m18s178ms).
2023-09-23 12:11:00.033  WARN 3678 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s467ms), soft-evicting connections from pool.
2023-09-23 12:11:06.005  INFO 3678 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:11:06.022  INFO 3678 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 12:11:06.027  INFO 3678 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 12:18:54.231  INFO 5386 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 5386 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 12:18:54.236  INFO 5386 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 12:18:54.984  INFO 5386 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 12:18:55.046  INFO 5386 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 2 JPA repository interfaces.
2023-09-23 12:18:55.618  INFO 5386 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 12:18:55.629  INFO 5386 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 12:18:55.630  INFO 5386 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 12:18:55.731  INFO 5386 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 12:18:55.732  INFO 5386 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1448 ms
2023-09-23 12:18:55.880  INFO 5386 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 12:18:55.934  INFO 5386 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 12:18:56.102  INFO 5386 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 12:18:56.202  INFO 5386 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 12:18:56.367  INFO 5386 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 12:18:56.383  INFO 5386 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 12:18:57.218  INFO 5386 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 12:18:57.229  INFO 5386 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:18:57.857  INFO 5386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c215642, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1317ac2c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5ecada, org.springframework.security.web.header.HeaderWriterFilter@12765ebd, org.springframework.security.web.authentication.logout.LogoutFilter@fe38c0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@750457a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c4786af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@416c1b0, org.springframework.security.web.session.SessionManagementFilter@3703a400, org.springframework.security.web.access.ExceptionTranslationFilter@21d15932, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75c589f2]
2023-09-23 12:18:57.939  WARN 5386 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 12:18:58.233  WARN 5386 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 12:18:58.366  INFO 5386 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 12:18:58.379  INFO 5386 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.586 seconds (JVM running for 5.376)
2023-09-23 12:21:45.016  INFO 5386 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:21:45.018  INFO 5386 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 12:21:45.025  INFO 5386 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 12:23:09.893  INFO 5511 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 5511 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 12:23:09.896  INFO 5511 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 12:23:10.534  INFO 5511 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 12:23:10.583  INFO 5511 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2023-09-23 12:23:11.010  INFO 5511 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 12:23:11.017  INFO 5511 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 12:23:11.017  INFO 5511 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 12:23:11.088  INFO 5511 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 12:23:11.089  INFO 5511 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1147 ms
2023-09-23 12:23:11.195  INFO 5511 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 12:23:11.229  INFO 5511 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 12:23:11.346  INFO 5511 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 12:23:11.407  INFO 5511 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 12:23:11.533  INFO 5511 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 12:23:11.545  INFO 5511 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 12:23:12.126  INFO 5511 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 12:23:12.134  INFO 5511 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:23:12.640  INFO 5511 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78f4d15d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6958d5d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c3924fd, org.springframework.security.web.header.HeaderWriterFilter@8636cf4, org.springframework.security.web.authentication.logout.LogoutFilter@565c887e, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@3e63bd6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b94c200, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1322b542, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@314c28dc, org.springframework.security.web.session.SessionManagementFilter@4f65af91, org.springframework.security.web.access.ExceptionTranslationFilter@34e9de8d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e2cd42c]
2023-09-23 12:23:12.705  WARN 5511 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 12:23:12.971  WARN 5511 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 12:23:13.086  INFO 5511 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 12:23:13.097  INFO 5511 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.545 seconds (JVM running for 4.126)
2023-09-23 12:23:19.931  INFO 5511 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 12:23:19.932  INFO 5511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 12:23:19.933  INFO 5511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 12:23:19.943  INFO 5511 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:23:20.030  INFO 5511 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: john
2023-09-23 12:23:20.139  INFO 5511 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем john найден
2023-09-23 12:23:20.193  INFO 5511 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:24:01.387  INFO 5511 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:24:01.390  INFO 5511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 12:24:01.392  INFO 5511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 12:24:09.479  INFO 5547 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 5547 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 12:24:09.487  INFO 5547 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 12:24:10.100  INFO 5547 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 12:24:10.141  INFO 5547 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-09-23 12:24:10.645  INFO 5547 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 12:24:10.652  INFO 5547 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 12:24:10.652  INFO 5547 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 12:24:10.731  INFO 5547 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 12:24:10.731  INFO 5547 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1196 ms
2023-09-23 12:24:10.846  INFO 5547 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 12:24:10.881  INFO 5547 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 12:24:10.992  INFO 5547 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 12:24:11.056  INFO 5547 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 12:24:11.177  INFO 5547 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 12:24:11.188  INFO 5547 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 12:24:11.758  INFO 5547 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 12:24:11.766  INFO 5547 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:24:12.261  INFO 5547 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c3b221f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@750c23a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@125124ea, org.springframework.security.web.header.HeaderWriterFilter@1842dc39, org.springframework.security.web.authentication.logout.LogoutFilter@61ca5134, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@3f40568e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31450fc0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52b30dcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@238280df, org.springframework.security.web.session.SessionManagementFilter@270097ce, org.springframework.security.web.access.ExceptionTranslationFilter@6065bcb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8dcacf1]
2023-09-23 12:24:12.327  WARN 5547 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 12:24:12.574  WARN 5547 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 12:24:12.692  INFO 5547 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 12:24:12.703  INFO 5547 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.562 seconds (JVM running for 4.168)
2023-09-23 12:24:21.362  INFO 5547 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 12:24:21.363  INFO 5547 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 12:24:21.364  INFO 5547 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 12:24:21.373  INFO 5547 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:24:21.560  INFO 5547 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: john
2023-09-23 12:24:21.664  INFO 5547 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем john найден
2023-09-23 12:24:21.666  WARN 5547 --- [http-nio-8080-exec-1] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2023-09-23 12:24:21.670  INFO 5547 --- [http-nio-8080-exec-1] r.z.d.controllers.AuthController         : Ошибка аутентификации: Bad credentials
2023-09-23 12:24:21.681  INFO 5547 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:25:12.782  INFO 5547 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:25:12.789  WARN 5547 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 3, column: 79] (through reference chain: ru.zaroyan.draftcloudstorage.dto.AuthenticationDTO["password"])]
2023-09-23 12:25:12.789  INFO 5547 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:26:04.971  INFO 5547 --- [http-nio-8080-exec-5] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:26:04.973  INFO 5547 --- [http-nio-8080-exec-5] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user
2023-09-23 12:26:04.978  INFO 5547 --- [http-nio-8080-exec-5] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user найден
2023-09-23 12:26:04.978  WARN 5547 --- [http-nio-8080-exec-5] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2023-09-23 12:26:04.978  INFO 5547 --- [http-nio-8080-exec-5] r.z.d.controllers.AuthController         : Ошибка аутентификации: Bad credentials
2023-09-23 12:26:04.979  INFO 5547 --- [http-nio-8080-exec-5] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:26:11.156  WARN 5547 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s861ms), soft-evicting connections from pool.
2023-09-23 12:47:36.519  INFO 5547 --- [http-nio-8080-exec-8] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:47:36.521  INFO 5547 --- [http-nio-8080-exec-8] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user
2023-09-23 12:47:36.527  INFO 5547 --- [http-nio-8080-exec-8] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user найден
2023-09-23 12:47:36.528  WARN 5547 --- [http-nio-8080-exec-8] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2023-09-23 12:47:36.528  INFO 5547 --- [http-nio-8080-exec-8] r.z.d.controllers.AuthController         : Ошибка аутентификации: Bad credentials
2023-09-23 12:47:36.528  INFO 5547 --- [http-nio-8080-exec-8] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:49:19.757  INFO 5547 --- [http-nio-8080-exec-10] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 12:49:19.759  INFO 5547 --- [http-nio-8080-exec-10] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user
2023-09-23 12:49:19.765  INFO 5547 --- [http-nio-8080-exec-10] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user найден
2023-09-23 12:49:20.184  INFO 5547 --- [http-nio-8080-exec-10] r.z.d.controllers.AuthController         : Ошибка аутентификации: Bad credentials
2023-09-23 12:49:20.185  INFO 5547 --- [http-nio-8080-exec-10] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 12:56:05.345  INFO 5547 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 12:56:05.350  INFO 5547 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 12:56:05.353  INFO 5547 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 13:08:06.070  INFO 6347 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 6347 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 13:08:06.073  INFO 6347 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 13:08:06.634  INFO 6347 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 13:08:06.685  INFO 6347 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2023-09-23 13:08:07.159  INFO 6347 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 13:08:07.166  INFO 6347 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 13:08:07.166  INFO 6347 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 13:08:07.243  INFO 6347 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 13:08:07.244  INFO 6347 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1138 ms
2023-09-23 13:08:07.359  INFO 6347 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 13:08:07.394  INFO 6347 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 13:08:07.512  INFO 6347 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 13:08:07.585  INFO 6347 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 13:08:07.715  INFO 6347 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 13:08:07.727  INFO 6347 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 13:08:08.343  INFO 6347 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 13:08:08.351  INFO 6347 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:08:08.881  INFO 6347 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ef7f414, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@182dcd2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@29e3c28, org.springframework.security.web.header.HeaderWriterFilter@314c6f89, org.springframework.security.web.authentication.logout.LogoutFilter@8ee1404, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@7c871ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7146c6ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a5d23c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c3d72fd, org.springframework.security.web.session.SessionManagementFilter@52b30dcd, org.springframework.security.web.access.ExceptionTranslationFilter@270097ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c92f094]
2023-09-23 13:08:08.956  WARN 6347 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 13:08:09.223  WARN 6347 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 13:08:09.349  INFO 6347 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 13:08:09.360  INFO 6347 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.597 seconds (JVM running for 5.351)
2023-09-23 13:08:21.905  INFO 6347 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 13:08:21.906  INFO 6347 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 13:08:21.908  INFO 6347 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-09-23 13:08:21.918  INFO 6347 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:08:21.927  INFO 6347 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:09:20.487  INFO 6347 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:09:20.490  INFO 6347 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 13:09:20.497  INFO 6347 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 13:19:25.422  INFO 6519 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 6519 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 13:19:25.426  INFO 6519 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 13:19:26.031  INFO 6519 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 13:19:26.076  INFO 6519 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 13:19:26.509  INFO 6519 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 13:19:26.518  INFO 6519 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 13:19:26.518  INFO 6519 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 13:19:26.592  INFO 6519 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 13:19:26.592  INFO 6519 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1127 ms
2023-09-23 13:19:26.700  INFO 6519 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 13:19:26.730  INFO 6519 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 13:19:26.850  INFO 6519 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 13:19:26.910  INFO 6519 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 13:19:27.035  INFO 6519 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 13:19:27.044  INFO 6519 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 13:19:27.663  INFO 6519 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 13:19:27.671  INFO 6519 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:19:28.186  INFO 6519 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@319058ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3909308c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7204d98f, org.springframework.security.web.header.HeaderWriterFilter@72240290, org.springframework.security.web.authentication.logout.LogoutFilter@75c589f2, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@3d3b4e09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c9512c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f65af91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71cc0e35, org.springframework.security.web.session.SessionManagementFilter@34e9de8d, org.springframework.security.web.access.ExceptionTranslationFilter@46bdc55e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a562255]
2023-09-23 13:19:28.250  WARN 6519 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 13:19:28.512  WARN 6519 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 13:19:28.637  INFO 6519 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 13:19:28.648  INFO 6519 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.576 seconds (JVM running for 4.179)
2023-09-23 13:19:51.534  INFO 6519 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 13:19:51.535  INFO 6519 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 13:19:51.536  INFO 6519 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 13:19:51.545  INFO 6519 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:19:51.728  INFO 6519 --- [http-nio-8080-exec-1] r.z.d.services.RegistrationService       : парампарам
2023-09-23 13:19:51.829  INFO 6519 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:20:24.914  INFO 6519 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:20:25.017  INFO 6519 --- [http-nio-8080-exec-3] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user2
2023-09-23 13:20:25.101  INFO 6519 --- [http-nio-8080-exec-3] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user2 найден
2023-09-23 13:20:25.242  INFO 6519 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:25:11.835  INFO 6519 --- [http-nio-8080-exec-6] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:25:11.942  INFO 6519 --- [http-nio-8080-exec-6] r.z.d.services.RegistrationService       : парампарам
2023-09-23 13:25:11.957  WARN 6519 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01
2023-09-23 13:25:11.957 ERROR 6519 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation "users" does not exist
  Позиция: 13
2023-09-23 13:25:11.967 ERROR 6519 --- [http-nio-8080-exec-6] r.z.d.controllers.AuthController         : Ошибка при регистрации пользователя: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement
2023-09-23 13:25:11.969  INFO 6519 --- [http-nio-8080-exec-6] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:25:36.922  INFO 6519 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:25:36.926  INFO 6519 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 13:25:36.933  INFO 6519 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 13:25:40.903  INFO 6637 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 6637 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 13:25:40.907  INFO 6637 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 13:25:41.523  INFO 6637 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 13:25:41.567  INFO 6637 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-09-23 13:25:42.035  INFO 6637 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 13:25:42.042  INFO 6637 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 13:25:42.043  INFO 6637 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 13:25:42.119  INFO 6637 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 13:25:42.119  INFO 6637 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1169 ms
2023-09-23 13:25:42.235  INFO 6637 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 13:25:42.271  INFO 6637 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 13:25:42.392  INFO 6637 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 13:25:42.460  INFO 6637 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 13:25:42.589  INFO 6637 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 13:25:42.602  INFO 6637 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 13:25:43.265  INFO 6637 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 13:25:43.273  INFO 6637 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:25:43.845  INFO 6637 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1238a074, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35b58254, org.springframework.security.web.context.SecurityContextPersistenceFilter@59c38af5, org.springframework.security.web.header.HeaderWriterFilter@7d7a8d23, org.springframework.security.web.authentication.logout.LogoutFilter@5cba474f, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@2ed35f24, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@534d0cfa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f1ffc18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73baf7f0, org.springframework.security.web.session.SessionManagementFilter@59ec5a0b, org.springframework.security.web.access.ExceptionTranslationFilter@480994d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5dc120ab]
2023-09-23 13:25:43.912  WARN 6637 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 13:25:44.188  WARN 6637 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 13:25:44.315  INFO 6637 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 13:25:44.332  INFO 6637 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.79 seconds (JVM running for 4.552)
2023-09-23 13:28:14.832  INFO 6637 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 13:28:14.833  INFO 6637 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 13:28:14.835  INFO 6637 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-09-23 13:28:14.845  INFO 6637 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:28:15.020  INFO 6637 --- [http-nio-8080-exec-2] r.z.d.services.RegistrationService       : парампарам
2023-09-23 13:28:15.106  INFO 6637 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:28:20.886  INFO 6637 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:28:20.993  INFO 6637 --- [http-nio-8080-exec-3] r.z.d.services.RegistrationService       : парампарам
2023-09-23 13:28:21.005  INFO 6637 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:29:55.784  INFO 6637 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:29:55.789  INFO 6637 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 13:29:55.796  INFO 6637 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 13:33:01.738  INFO 6779 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 6779 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 13:33:01.742  INFO 6779 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 13:33:02.493  INFO 6779 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 13:33:02.544  INFO 6779 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2023-09-23 13:33:03.084  INFO 6779 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 13:33:03.092  INFO 6779 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 13:33:03.092  INFO 6779 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 13:33:03.179  INFO 6779 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 13:33:03.180  INFO 6779 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1393 ms
2023-09-23 13:33:03.321  INFO 6779 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 13:33:03.374  INFO 6779 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 13:33:03.507  INFO 6779 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 13:33:03.605  INFO 6779 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 13:33:03.736  INFO 6779 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 13:33:03.751  INFO 6779 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 13:33:04.424  INFO 6779 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 13:33:04.437  INFO 6779 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:33:05.040  INFO 6779 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73baf7f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@446dacf9, org.springframework.security.web.context.SecurityContextPersistenceFilter@1bbc1b90, org.springframework.security.web.header.HeaderWriterFilter@125124ea, org.springframework.security.web.authentication.logout.LogoutFilter@284b487f, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@2c4be45f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@480994d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7146c6ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13018f00, org.springframework.security.web.session.SessionManagementFilter@31450fc0, org.springframework.security.web.access.ExceptionTranslationFilter@6a7fc4c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ef7f414]
2023-09-23 13:33:05.117  WARN 6779 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 13:33:05.403  WARN 6779 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 13:33:05.536  INFO 6779 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 13:33:05.548  INFO 6779 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.158 seconds (JVM running for 4.807)
2023-09-23 13:33:17.039  INFO 6779 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 13:33:17.040  INFO 6779 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 13:33:17.042  INFO 6779 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-09-23 13:33:17.058  INFO 6779 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 13:33:17.262  INFO 6779 --- [http-nio-8080-exec-1] r.z.d.services.RegistrationService       : парампарам
2023-09-23 13:33:17.374  INFO 6779 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 13:33:33.760  INFO 6779 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 13:33:33.762  INFO 6779 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 13:33:33.769  INFO 6779 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 15:58:51.178  INFO 8481 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 8481 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 15:58:51.181  INFO 8481 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 15:58:51.908  INFO 8481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 15:58:51.968  INFO 8481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-09-23 15:58:52.540  INFO 8481 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 15:58:52.551  INFO 8481 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 15:58:52.551  INFO 8481 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 15:58:52.640  INFO 8481 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 15:58:52.640  INFO 8481 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1412 ms
2023-09-23 15:58:52.661 ERROR 8481 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtTokenUtils': Unsatisfied dependency expressed through field 'jwtLifetime'; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "30m"
2023-09-23 15:58:52.683  INFO 8481 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 15:58:52.692  WARN 8481 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 15:58:52.701  INFO 8481 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 15:58:52.731 ERROR 8481 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtTokenUtils': Unsatisfied dependency expressed through field 'jwtLifetime'; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "30m"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtTokenUtils': Unsatisfied dependency expressed through field 'jwtLifetime'; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "30m"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "30m"
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1339) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.29.jar:5.3.29]
	... 69 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "30m"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:na]
	at java.base/java.lang.Integer.parseInt(Integer.java:652) ~[na:na]
	at java.base/java.lang.Integer.valueOf(Integer.java:983) ~[na:na]
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211) ~[spring-core-5.3.29.jar:5.3.29]
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73) ~[spring-beans-5.3.29.jar:5.3.29]
	... 72 common frames omitted

2023-09-23 16:01:20.894  INFO 8537 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 8537 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 16:01:20.899  INFO 8537 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 16:01:21.722  INFO 8537 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 16:01:21.797  INFO 8537 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
2023-09-23 16:01:22.411  INFO 8537 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 16:01:22.425  INFO 8537 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 16:01:22.426  INFO 8537 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 16:01:22.522  INFO 8537 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 16:01:22.523  INFO 8537 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1578 ms
2023-09-23 16:01:22.690  INFO 8537 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 16:01:22.741  INFO 8537 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 16:01:22.860  INFO 8537 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 16:01:22.952  INFO 8537 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 16:01:23.091  INFO 8537 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 16:01:23.106  INFO 8537 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 16:01:23.830  INFO 8537 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 16:01:23.839  INFO 8537 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 16:01:24.439  INFO 8537 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bf1b528, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c92f094, org.springframework.security.web.context.SecurityContextPersistenceFilter@270097ce, org.springframework.security.web.header.HeaderWriterFilter@1ee6434, org.springframework.security.web.authentication.logout.LogoutFilter@b5311cb, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@dbca149, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69cb134, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@125124ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c3b221f, org.springframework.security.web.session.SessionManagementFilter@550f522b, org.springframework.security.web.access.ExceptionTranslationFilter@18df26a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1fa796a4]
2023-09-23 16:01:24.536  WARN 8537 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 16:01:24.851  WARN 8537 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 16:01:24.980  INFO 8537 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 16:01:24.992  INFO 8537 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.624 seconds (JVM running for 5.521)
2023-09-23 16:01:36.886  INFO 8537 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 16:01:36.886  INFO 8537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 16:01:36.887  INFO 8537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 16:01:36.901  INFO 8537 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 16:01:37.105  INFO 8537 --- [http-nio-8080-exec-2] r.z.d.services.RegistrationService       : парампарам
2023-09-23 16:01:37.215  INFO 8537 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 16:02:20.556  INFO 8537 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 16:02:20.561  INFO 8537 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 16:02:20.571  INFO 8537 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 16:51:12.324  INFO 9523 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 9523 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 16:51:12.328  INFO 9523 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 16:51:13.044  INFO 9523 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 16:51:13.091  INFO 9523 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 16:51:13.651  INFO 9523 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 16:51:13.661  INFO 9523 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 16:51:13.661  INFO 9523 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 16:51:13.755  INFO 9523 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 16:51:13.756  INFO 9523 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1383 ms
2023-09-23 16:51:13.864  INFO 9523 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 16:51:14.005  INFO 9523 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 16:51:14.116  INFO 9523 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 16:51:14.200  WARN 9523 --- [main] liquibase.util                           : Failed to perform a method call for SnakeYaml because the version of SnakeYaml being used is too old. Consider upgrading to a SnakeYaml version equal to or newer than 1.32, by downloading and installing a newer version of Liquibase (which includes a newer version of SnakeYaml). Loading particularly large JSON and YAML documents (like snapshots) in Liquibase may fail if SnakeYaml is not upgraded.
2023-09-23 16:51:14.202  INFO 9523 --- [main] liquibase.command                        : Command execution complete
2023-09-23 16:51:14.207 ERROR 9523 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#40ef0af8' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#40ef0af8': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-09-23 16:51:14.229  INFO 9523 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 16:51:14.232  WARN 9523 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 16:51:14.233  WARN 9523 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/java.util.Arrays.fill(Arrays.java:3494)
 java.base@11.0.18/sun.security.provider.DigestBase.engineReset(DigestBase.java:182)
 java.base@11.0.18/sun.security.provider.DigestBase.engineUpdate(DigestBase.java:112)
 java.base@11.0.18/java.security.MessageDigest$Delegate.engineUpdate(MessageDigest.java:623)
 java.base@11.0.18/java.security.MessageDigest.update(MessageDigest.java:355)
 java.base@11.0.18/com.sun.crypto.provider.HmacCore.engineUpdate(HmacCore.java:180)
 java.base@11.0.18/javax.crypto.Mac.update(Mac.java:505)
 java.base@11.0.18/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:191)
 java.base@11.0.18/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:117)
 java.base@11.0.18/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:69)
 java.base@11.0.18/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:344)
 app//org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 app//org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 app//org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 app//org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 app//org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 app//org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 app//org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:816)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
 app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
 app//org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
 app//org.postgresql.Driver.makeConnection(Driver.java:402)
 app//org.postgresql.Driver.connect(Driver.java:261)
 app//com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 app//com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
 app//com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
 app//com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
 app//com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base@11.0.18/java.util.concurrent.FutureTask.run(FutureTask.java:264)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 16:51:14.235  WARN 9523 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 16:51:14.236  INFO 9523 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 16:51:14.251  INFO 9523 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 16:51:14.261  INFO 9523 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 16:51:14.284 ERROR 9523 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-09-23 16:53:55.422  INFO 9586 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 9586 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 16:53:55.425  INFO 9586 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 16:53:56.041  INFO 9586 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 16:53:56.086  INFO 9586 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-09-23 16:53:56.548  INFO 9586 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 16:53:56.555  INFO 9586 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 16:53:56.555  INFO 9586 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 16:53:56.633  INFO 9586 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 16:53:56.634  INFO 9586 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1165 ms
2023-09-23 16:53:56.740  INFO 9586 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 16:53:56.863  INFO 9586 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 16:53:56.963  INFO 9586 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 16:53:57.042  INFO 9586 --- [main] liquibase.command                        : Command execution complete
2023-09-23 16:53:57.047 ERROR 9586 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#3f63a513' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3f63a513': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-09-23 16:53:57.064  INFO 9586 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 16:53:57.067  WARN 9586 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 16:53:57.068  WARN 9586 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 app//org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.nonce(CryptoUtil.java:63)
 app//org.postgresql.shaded.com.ongres.scram.client.ScramClient$Builder$1.get(ScramClient.java:345)
 app//org.postgresql.shaded.com.ongres.scram.client.ScramClient.scramSession(ScramClient.java:379)
 app//org.postgresql.jre7.sasl.ScramAuthenticator.processServerMechanismsAndInit(ScramAuthenticator.java:92)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:803)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
 app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
 app//org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
 app//org.postgresql.Driver.makeConnection(Driver.java:402)
 app//org.postgresql.Driver.connect(Driver.java:261)
 app//com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 app//com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
 app//com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
 app//com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
 app//com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base@11.0.18/java.util.concurrent.FutureTask.run(FutureTask.java:264)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 16:53:57.070  WARN 9586 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 16:53:57.070  INFO 9586 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 16:53:57.104  INFO 9586 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 16:53:57.114  INFO 9586 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 16:53:57.131 ERROR 9586 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-09-23 16:56:32.273  INFO 9642 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 9642 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 16:56:32.276  INFO 9642 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 16:56:32.869  INFO 9642 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 16:56:32.912  INFO 9642 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-09-23 16:56:33.387  INFO 9642 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 16:56:33.394  INFO 9642 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 16:56:33.395  INFO 9642 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 16:56:33.476  INFO 9642 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 16:56:33.476  INFO 9642 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1164 ms
2023-09-23 16:56:33.583  INFO 9642 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 16:56:33.714  INFO 9642 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 16:56:33.817  INFO 9642 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 16:56:34.076  INFO 9642 --- [main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-23 16:56:34.114  INFO 9642 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 16:56:34.202  INFO 9642 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 16:56:34.229  INFO 9642 --- [main] liquibase.command                        : Using deploymentId: 5477394228
2023-09-23 16:56:34.232  INFO 9642 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 16:56:34.264  INFO 9642 --- [main] liquibase.changelog                      : Table users created
2023-09-23 16:56:34.268  INFO 9642 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-users-table.yaml::create-users::Zaroyan ran successfully in 24ms
2023-09-23 16:56:34.277  INFO 9642 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 16:56:34.277  INFO 9642 --- [main] liquibase.util                           : Run:                          1
2023-09-23 16:56:34.278  INFO 9642 --- [main] liquibase.util                           : Previously run:               0
2023-09-23 16:56:34.278  INFO 9642 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 16:56:34.278  INFO 9642 --- [main] liquibase.util                           : -------------------------------
2023-09-23 16:56:34.278  INFO 9642 --- [main] liquibase.util                           : Total change sets:            1

2023-09-23 16:56:34.279  INFO 9642 --- [main] liquibase.util                           : Update summary generated
2023-09-23 16:56:34.279  INFO 9642 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 16:56:34.287  INFO 9642 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 16:56:34.289  INFO 9642 --- [main] liquibase.command                        : Command execution complete
2023-09-23 16:56:34.356  INFO 9642 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 16:56:34.405  INFO 9642 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 16:56:34.592  INFO 9642 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 16:56:34.693  INFO 9642 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 16:56:35.357  INFO 9642 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 16:56:35.368  INFO 9642 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 16:56:35.945  INFO 9642 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@235dacd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74070994, org.springframework.security.web.context.SecurityContextPersistenceFilter@2fafa9bf, org.springframework.security.web.header.HeaderWriterFilter@39a1e1e6, org.springframework.security.web.authentication.logout.LogoutFilter@7156f8cf, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@72b6fa98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43c3354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@260fffec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c816f46, org.springframework.security.web.session.SessionManagementFilter@5f346355, org.springframework.security.web.access.ExceptionTranslationFilter@74691677, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c6be812]
2023-09-23 16:56:36.023  WARN 9642 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 16:56:36.307  WARN 9642 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 16:56:36.440  INFO 9642 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 16:56:36.453  INFO 9642 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.53 seconds (JVM running for 5.113)
2023-09-23 16:57:12.993  INFO 9642 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 16:57:12.994  INFO 9642 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 16:57:12.995  INFO 9642 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 16:57:13.009  INFO 9642 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 16:57:13.222  INFO 9642 --- [http-nio-8080-exec-2] r.z.d.services.RegistrationService       : парампарам
2023-09-23 16:57:13.318  INFO 9642 --- [http-nio-8080-exec-2] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 17:02:11.546  INFO 9642 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:02:11.551  INFO 9642 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:02:11.557  INFO 9642 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:02:59.709  INFO 9756 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 9756 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:02:59.712  INFO 9756 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:03:00.384  INFO 9756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:03:00.430  INFO 9756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 17:03:00.921  INFO 9756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:03:00.930  INFO 9756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:03:00.931  INFO 9756 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:03:01.017  INFO 9756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:03:01.017  INFO 9756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1261 ms
2023-09-23 17:03:01.128  INFO 9756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:03:01.264  INFO 9756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:03:01.369  INFO 9756 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:03:01.654  INFO 9756 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:03:01.695  INFO 9756 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:03:01.700  INFO 9756 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 17:03:01.701  INFO 9756 --- [main] liquibase.util                           : Run:                          0
2023-09-23 17:03:01.701  INFO 9756 --- [main] liquibase.util                           : Previously run:               1
2023-09-23 17:03:01.701  INFO 9756 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 17:03:01.701  INFO 9756 --- [main] liquibase.util                           : -------------------------------
2023-09-23 17:03:01.701  INFO 9756 --- [main] liquibase.util                           : Total change sets:            1

2023-09-23 17:03:01.702  INFO 9756 --- [main] liquibase.util                           : Update summary generated
2023-09-23 17:03:01.726  INFO 9756 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:03:01.729  INFO 9756 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:03:01.787  INFO 9756 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 17:03:01.835  INFO 9756 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 17:03:01.978  INFO 9756 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 17:03:02.080  INFO 9756 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 17:03:02.683  INFO 9756 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 17:03:02.691  INFO 9756 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:03:03.234  INFO 9756 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38318d67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3af6c672, org.springframework.security.web.context.SecurityContextPersistenceFilter@46df794e, org.springframework.security.web.header.HeaderWriterFilter@2003edf, org.springframework.security.web.authentication.logout.LogoutFilter@16257f8c, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@477e5b69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cd65042, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7674f9d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12948e7a, org.springframework.security.web.session.SessionManagementFilter@1ec09a68, org.springframework.security.web.access.ExceptionTranslationFilter@53b9952f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20cf3ab3]
2023-09-23 17:03:03.316  WARN 9756 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 17:03:03.591  WARN 9756 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 17:03:03.720  INFO 9756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 17:03:03.732  INFO 9756 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.396 seconds (JVM running for 4.988)
2023-09-23 17:03:33.153  INFO 9756 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:03:33.156  INFO 9756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:03:33.167  INFO 9756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:07:14.264  INFO 9837 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 9837 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:07:14.268  INFO 9837 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:07:14.930  INFO 9837 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:07:14.983  INFO 9837 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2023-09-23 17:07:15.446  INFO 9837 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:07:15.455  INFO 9837 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:07:15.455  INFO 9837 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:07:15.539  INFO 9837 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:07:15.540  INFO 9837 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1229 ms
2023-09-23 17:07:15.646  INFO 9837 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:07:15.779  INFO 9837 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:07:15.879  INFO 9837 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:07:16.187  INFO 9837 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:07:16.274  INFO 9837 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:07:16.289  INFO 9837 --- [main] liquibase.command                        : Using deploymentId: 5478036288
2023-09-23 17:07:16.294  INFO 9837 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:07:16.332  INFO 9837 --- [main] liquibase.changelog                      : Table files created
2023-09-23 17:07:16.337  INFO 9837 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan ran successfully in 28ms
2023-09-23 17:07:16.346  INFO 9837 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 17:07:16.347  INFO 9837 --- [main] liquibase.util                           : Run:                          1
2023-09-23 17:07:16.347  INFO 9837 --- [main] liquibase.util                           : Previously run:               1
2023-09-23 17:07:16.347  INFO 9837 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 17:07:16.347  INFO 9837 --- [main] liquibase.util                           : -------------------------------
2023-09-23 17:07:16.347  INFO 9837 --- [main] liquibase.util                           : Total change sets:            2

2023-09-23 17:07:16.348  INFO 9837 --- [main] liquibase.util                           : Update summary generated
2023-09-23 17:07:16.349  INFO 9837 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 17:07:16.355  INFO 9837 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:07:16.357  INFO 9837 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:07:16.408  INFO 9837 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 17:07:16.440  INFO 9837 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 17:07:16.571  INFO 9837 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 17:07:16.656  INFO 9837 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 17:07:17.243  INFO 9837 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 17:07:17.254  INFO 9837 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:07:17.803  INFO 9837 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19b4dd60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40f77135, org.springframework.security.web.context.SecurityContextPersistenceFilter@1964ef9, org.springframework.security.web.header.HeaderWriterFilter@58a0f75b, org.springframework.security.web.authentication.logout.LogoutFilter@1390a43a, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@4936fbc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3891db3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a778943, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4138af7, org.springframework.security.web.session.SessionManagementFilter@1b84d03d, org.springframework.security.web.access.ExceptionTranslationFilter@134ec0f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5de6c7d7]
2023-09-23 17:07:17.877  WARN 9837 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 17:07:18.157  WARN 9837 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 17:07:18.290  INFO 9837 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 17:07:18.303  INFO 9837 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.454 seconds (JVM running for 5.118)
2023-09-23 17:08:33.332  INFO 9837 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:08:33.336  INFO 9837 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:08:33.344  INFO 9837 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:28:25.233  INFO 10181 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10181 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:28:25.236  INFO 10181 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:28:25.965  INFO 10181 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:28:26.015  INFO 10181 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2023-09-23 17:28:26.577  INFO 10181 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:28:26.587  INFO 10181 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:28:26.588  INFO 10181 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:28:26.686  INFO 10181 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:28:26.686  INFO 10181 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1393 ms
2023-09-23 17:28:26.801  INFO 10181 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:28:26.950  INFO 10181 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:28:27.055  INFO 10181 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:28:27.362  INFO 10181 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:28:27.405  INFO 10181 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:28:27.410  INFO 10181 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 17:28:27.411  INFO 10181 --- [main] liquibase.util                           : Run:                          0
2023-09-23 17:28:27.411  INFO 10181 --- [main] liquibase.util                           : Previously run:               2
2023-09-23 17:28:27.411  INFO 10181 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 17:28:27.411  INFO 10181 --- [main] liquibase.util                           : -------------------------------
2023-09-23 17:28:27.411  INFO 10181 --- [main] liquibase.util                           : Total change sets:            2

2023-09-23 17:28:27.412  INFO 10181 --- [main] liquibase.util                           : Update summary generated
2023-09-23 17:28:27.435  INFO 10181 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:28:27.438  INFO 10181 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:28:27.511  INFO 10181 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 17:28:27.565  INFO 10181 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 17:28:27.728  INFO 10181 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 17:28:27.835  INFO 10181 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 17:28:28.497  INFO 10181 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 17:28:28.508  INFO 10181 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:28:29.090  INFO 10181 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@938e54a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@220d7eb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1de398c3, org.springframework.security.web.header.HeaderWriterFilter@3533d790, org.springframework.security.web.authentication.logout.LogoutFilter@341141ab, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@3958db82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44a1ae4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@377d55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a165c11, org.springframework.security.web.session.SessionManagementFilter@73dc7db0, org.springframework.security.web.access.ExceptionTranslationFilter@20a2930f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22c0c0bc]
2023-09-23 17:28:29.170  WARN 10181 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 17:28:29.465  WARN 10181 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 17:28:29.598  INFO 10181 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 17:28:29.610  INFO 10181 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.839 seconds (JVM running for 5.548)
2023-09-23 17:35:56.630  INFO 10181 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:35:56.633  INFO 10181 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:35:56.641  INFO 10181 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:36:01.034  INFO 10302 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10302 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:36:01.038  INFO 10302 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:36:01.699  INFO 10302 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:36:01.753  INFO 10302 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2023-09-23 17:36:02.331  INFO 10302 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:36:02.341  INFO 10302 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:36:02.341  INFO 10302 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:36:02.436  INFO 10302 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:36:02.436  INFO 10302 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1349 ms
2023-09-23 17:36:02.553  INFO 10302 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:36:02.698  INFO 10302 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:36:02.808  INFO 10302 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:36:03.121  INFO 10302 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:36:03.209  INFO 10302 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:36:03.223  INFO 10302 --- [main] liquibase.command                        : Using deploymentId: 5479763223
2023-09-23 17:36:03.226  INFO 10302 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:36:03.261 ERROR 10302 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name encountered an exception.
2023-09-23 17:36:03.265  INFO 10302 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 17:36:03.273  INFO 10302 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:36:03.275  INFO 10302 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:36:03.280 ERROR 10302 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
2023-09-23 17:36:03.302  INFO 10302 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 17:36:03.305  WARN 10302 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:36:03.305  WARN 10302 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:36:03.307  WARN 10302 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 17:36:03.308  INFO 10302 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:36:03.315  INFO 10302 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:36:03.327  INFO 10302 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 17:36:03.360 ERROR 10302 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "files" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 17:37:17.292  INFO 10325 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10325 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:37:17.295  INFO 10325 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:37:17.998  INFO 10325 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:37:18.041  INFO 10325 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2023-09-23 17:37:18.537  INFO 10325 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:37:18.544  INFO 10325 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:37:18.545  INFO 10325 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:37:18.626  INFO 10325 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:37:18.627  INFO 10325 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1286 ms
2023-09-23 17:37:18.733  INFO 10325 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:37:18.869  INFO 10325 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:37:19.003  INFO 10325 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:37:19.328  INFO 10325 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:37:19.413  INFO 10325 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:37:19.426  INFO 10325 --- [main] liquibase.command                        : Using deploymentId: 5479839426
2023-09-23 17:37:19.429  INFO 10325 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:37:19.459 ERROR 10325 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name encountered an exception.
2023-09-23 17:37:19.464  INFO 10325 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 17:37:19.471  INFO 10325 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:37:19.473  INFO 10325 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:37:19.477 ERROR 10325 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
2023-09-23 17:37:19.492  INFO 10325 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 17:37:19.495  WARN 10325 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:37:19.495  WARN 10325 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:37:19.497  WARN 10325 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 17:37:19.497  INFO 10325 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:37:19.504  INFO 10325 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:37:19.517  INFO 10325 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 17:37:19.537 ERROR 10325 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create_table_files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "files" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 17:38:53.279  INFO 10356 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10356 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:38:53.283  INFO 10356 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:38:53.936  INFO 10356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:38:53.982  INFO 10356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 17:38:54.457  INFO 10356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:38:54.463  INFO 10356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:38:54.464  INFO 10356 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:38:54.538  INFO 10356 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:38:54.539  INFO 10356 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1220 ms
2023-09-23 17:38:54.645  INFO 10356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:38:54.772  INFO 10356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:38:54.871  INFO 10356 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:38:55.278  INFO 10356 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:38:55.370  INFO 10356 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:38:55.385  INFO 10356 --- [main] liquibase.command                        : Using deploymentId: 5479935385
2023-09-23 17:38:55.388  INFO 10356 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:38:55.416 ERROR 10356 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::your_author_name encountered an exception.
2023-09-23 17:38:55.421  INFO 10356 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 17:38:55.428  INFO 10356 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:38:55.430  INFO 10356 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:38:55.435 ERROR 10356 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
2023-09-23 17:38:55.452  INFO 10356 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 17:38:55.455  WARN 10356 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:38:55.456  WARN 10356 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:38:55.458  WARN 10356 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 17:38:55.458  INFO 10356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:38:55.466  INFO 10356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:38:55.479  INFO 10356 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 17:38:55.503 ERROR 10356 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#6bbab114' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#6bbab114': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::your_author_name:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "files" already exists [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, login VARCHAR(50) NOT NULL, CONSTRAINT files_pkey PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "files" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 17:39:29.044  INFO 10370 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10370 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:39:29.047  INFO 10370 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:39:29.691  INFO 10370 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:39:29.736  INFO 10370 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 17:39:30.224  INFO 10370 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:39:30.232  INFO 10370 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:39:30.232  INFO 10370 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:39:30.317  INFO 10370 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:39:30.318  INFO 10370 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1232 ms
2023-09-23 17:39:30.429  INFO 10370 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:39:30.559  INFO 10370 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:39:30.662  INFO 10370 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:39:30.977  INFO 10370 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:39:31.020  INFO 10370 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:39:31.026  INFO 10370 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 17:39:31.027  INFO 10370 --- [main] liquibase.util                           : Run:                          0
2023-09-23 17:39:31.027  INFO 10370 --- [main] liquibase.util                           : Previously run:               2
2023-09-23 17:39:31.027  INFO 10370 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 17:39:31.027  INFO 10370 --- [main] liquibase.util                           : -------------------------------
2023-09-23 17:39:31.027  INFO 10370 --- [main] liquibase.util                           : Total change sets:            2

2023-09-23 17:39:31.028  INFO 10370 --- [main] liquibase.util                           : Update summary generated
2023-09-23 17:39:31.051  INFO 10370 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:39:31.054  INFO 10370 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:39:31.114  INFO 10370 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 17:39:31.173  INFO 10370 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 17:39:31.328  INFO 10370 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 17:39:31.450  INFO 10370 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 17:39:32.044  INFO 10370 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 17:39:32.053  INFO 10370 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:39:32.601  INFO 10370 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f076c53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c39c739, org.springframework.security.web.context.SecurityContextPersistenceFilter@28effa3f, org.springframework.security.web.header.HeaderWriterFilter@74159dc9, org.springframework.security.web.authentication.logout.LogoutFilter@56fc2cea, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@7359f3ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2db4a84a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cef5fc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b3b2a4f, org.springframework.security.web.session.SessionManagementFilter@254210b1, org.springframework.security.web.access.ExceptionTranslationFilter@255482cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1be3e952]
2023-09-23 17:39:32.686  WARN 10370 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 17:39:32.965  WARN 10370 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 17:39:33.096  INFO 10370 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 17:39:33.108  INFO 10370 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.43 seconds (JVM running for 5.001)
2023-09-23 17:50:36.968  INFO 10370 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:50:36.971  INFO 10370 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:50:36.978  INFO 10370 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:50:43.444  INFO 10556 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10556 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:50:43.451  INFO 10556 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:50:44.102  INFO 10556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:50:44.152  INFO 10556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2023-09-23 17:50:44.643  INFO 10556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:50:44.652  INFO 10556 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:50:44.653  INFO 10556 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:50:44.733  INFO 10556 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:50:44.733  INFO 10556 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1241 ms
2023-09-23 17:50:44.836  INFO 10556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:50:44.969  INFO 10556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:50:45.071  INFO 10556 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:50:45.399  INFO 10556 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:50:45.437  INFO 10556 --- [main] liquibase.changelog                      : Change failed validation!
2023-09-23 17:50:45.440  INFO 10556 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:50:45.445 ERROR 10556 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

2023-09-23 17:50:45.473  INFO 10556 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 17:50:45.476  WARN 10556 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:50:45.477  WARN 10556 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:50:45.478  WARN 10556 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 17:50:45.479  INFO 10556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:50:45.485  INFO 10556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:50:45.496  INFO 10556 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 17:50:45.519 ERROR 10556 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#609319c3' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#609319c3': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan was: 9:288958a235d3dad030f7c857a779a76a but is now: 9:fe91e06a11b0309fadc7faaf8f40f92f

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:344) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:95) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted

2023-09-23 17:53:25.316  INFO 10602 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10602 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:53:25.319  INFO 10602 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:53:25.967  INFO 10602 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:53:26.010  INFO 10602 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-09-23 17:53:26.471  INFO 10602 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:53:26.478  INFO 10602 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:53:26.478  INFO 10602 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:53:26.564  INFO 10602 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:53:26.564  INFO 10602 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1205 ms
2023-09-23 17:53:26.681  INFO 10602 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:53:26.809  INFO 10602 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:53:26.914  INFO 10602 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:53:27.187  INFO 10602 --- [main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-23 17:53:27.225  INFO 10602 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:53:27.311  INFO 10602 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:53:27.336  INFO 10602 --- [main] liquibase.command                        : Using deploymentId: 5480807336
2023-09-23 17:53:27.339  INFO 10602 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:53:27.372  INFO 10602 --- [main] liquibase.changelog                      : Table users created
2023-09-23 17:53:27.374  INFO 10602 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-users-table.yaml::create-users::Zaroyan ran successfully in 19ms
2023-09-23 17:53:27.400 ERROR 10602 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan encountered an exception.
2023-09-23 17:53:27.405  INFO 10602 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 17:53:27.414  INFO 10602 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:53:27.416  INFO 10602 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:53:27.421 ERROR 10602 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#144ab983' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#144ab983': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
2023-09-23 17:53:27.442  INFO 10602 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 17:53:27.445  WARN 10602 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:53:27.446  WARN 10602 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 17:53:27.447  WARN 10602 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 17:53:27.448  INFO 10602 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 17:53:27.459  INFO 10602 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 17:53:27.475  INFO 10602 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 17:53:27.516 ERROR 10602 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#144ab983' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#144ab983': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#144ab983' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#144ab983': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#144ab983' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#144ab983': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#144ab983': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "public.user_entity" does not exist [Failed SQL: (0) CREATE TABLE public.files (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created TIMESTAMP WITHOUT TIME ZONE NOT NULL, file_name VARCHAR(255) NOT NULL, file_type VARCHAR(255) NOT NULL, size BIGINT NOT NULL, bytes BYTEA NOT NULL, user_id BIGINT, CONSTRAINT files_pkey PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES public.user_entity(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "public.user_entity" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 17:55:50.531  INFO 10644 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10644 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 17:55:50.534  INFO 10644 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 17:55:51.130  INFO 10644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 17:55:51.173  INFO 10644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-09-23 17:55:51.634  INFO 10644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 17:55:51.642  INFO 10644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 17:55:51.642  INFO 10644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 17:55:51.727  INFO 10644 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 17:55:51.728  INFO 10644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1152 ms
2023-09-23 17:55:51.835  INFO 10644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 17:55:51.974  INFO 10644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 17:55:52.080  INFO 10644 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 17:55:52.383  INFO 10644 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:55:52.469  INFO 10644 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 17:55:52.483  INFO 10644 --- [main] liquibase.command                        : Using deploymentId: 5480952483
2023-09-23 17:55:52.486  INFO 10644 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 17:55:52.521  INFO 10644 --- [main] liquibase.changelog                      : Table files created
2023-09-23 17:55:52.523  INFO 10644 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan ran successfully in 21ms
2023-09-23 17:55:52.534  INFO 10644 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 17:55:52.534  INFO 10644 --- [main] liquibase.util                           : Run:                          1
2023-09-23 17:55:52.534  INFO 10644 --- [main] liquibase.util                           : Previously run:               1
2023-09-23 17:55:52.534  INFO 10644 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 17:55:52.534  INFO 10644 --- [main] liquibase.util                           : -------------------------------
2023-09-23 17:55:52.535  INFO 10644 --- [main] liquibase.util                           : Total change sets:            2

2023-09-23 17:55:52.535  INFO 10644 --- [main] liquibase.util                           : Update summary generated
2023-09-23 17:55:52.536  INFO 10644 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 17:55:52.543  INFO 10644 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 17:55:52.545  INFO 10644 --- [main] liquibase.command                        : Command execution complete
2023-09-23 17:55:52.623  INFO 10644 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 17:55:52.668  INFO 10644 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 17:55:52.812  INFO 10644 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 17:55:52.905  INFO 10644 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 17:55:53.535  INFO 10644 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 17:55:53.545  INFO 10644 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 17:55:54.116  INFO 10644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b9f7087, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22e650e, org.springframework.security.web.context.SecurityContextPersistenceFilter@5de14222, org.springframework.security.web.header.HeaderWriterFilter@19a4cdea, org.springframework.security.web.authentication.logout.LogoutFilter@6bf34912, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@79080255, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@722d3ddb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@721fc228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30a79476, org.springframework.security.web.session.SessionManagementFilter@6debf1b8, org.springframework.security.web.access.ExceptionTranslationFilter@45e68fac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46878216]
2023-09-23 17:55:54.193  WARN 10644 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 17:55:54.465  WARN 10644 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 17:55:54.599  INFO 10644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 17:55:54.612  INFO 10644 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.44 seconds (JVM running for 5.011)
2023-09-23 18:02:21.825  INFO 10644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:02:21.828  INFO 10644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:02:21.835  INFO 10644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:03:21.681  INFO 10764 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10764 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:03:21.685  INFO 10764 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:03:22.323  INFO 10764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:03:22.370  INFO 10764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2023-09-23 18:03:22.873  INFO 10764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:03:22.882  INFO 10764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:03:22.883  INFO 10764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:03:22.975  INFO 10764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:03:22.976  INFO 10764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1255 ms
2023-09-23 18:03:23.087  INFO 10764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:03:23.226  INFO 10764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:03:23.332  INFO 10764 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:03:23.652  INFO 10764 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:03:23.733  INFO 10764 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 18:03:23.748  INFO 10764 --- [main] liquibase.command                        : Using deploymentId: 5481403747
2023-09-23 18:03:23.750  INFO 10764 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:03:23.774 ERROR 10764 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan encountered an exception.
2023-09-23 18:03:23.779  INFO 10764 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 18:03:23.787  INFO 10764 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:03:23.789  INFO 10764 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:03:23.796 ERROR 10764 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#2a7d9b41' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2a7d9b41': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
2023-09-23 18:03:23.831  INFO 10764 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 18:03:23.834  WARN 10764 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 18:03:23.835  WARN 10764 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 18:03:23.836  WARN 10764 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 18:03:23.837  INFO 10764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:03:23.845  INFO 10764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:03:23.855  INFO 10764 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 18:03:23.881 ERROR 10764 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#2a7d9b41' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2a7d9b41': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#2a7d9b41' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2a7d9b41': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#2a7d9b41' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2a7d9b41': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2a7d9b41': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "user_entity" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 18:03:55.120  INFO 10776 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10776 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:03:55.124  INFO 10776 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:03:55.727  INFO 10776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:03:55.771  INFO 10776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-09-23 18:03:56.274  INFO 10776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:03:56.282  INFO 10776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:03:56.283  INFO 10776 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:03:56.373  INFO 10776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:03:56.373  INFO 10776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1210 ms
2023-09-23 18:03:56.495  INFO 10776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:03:56.624  INFO 10776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:03:56.726  INFO 10776 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:03:57.043  INFO 10776 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:03:57.112  INFO 10776 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 18:03:57.127  INFO 10776 --- [main] liquibase.command                        : Using deploymentId: 5481437127
2023-09-23 18:03:57.130  INFO 10776 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:03:57.153 ERROR 10776 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan encountered an exception.
2023-09-23 18:03:57.157  INFO 10776 --- [main] liquibase.command                        : Update command encountered an exception.
2023-09-23 18:03:57.165  INFO 10776 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:03:57.167  INFO 10776 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:03:57.174 ERROR 10776 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#66383c29' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66383c29': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
2023-09-23 18:03:57.191  INFO 10776 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-09-23 18:03:57.193  WARN 10776 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 18:03:57.194  WARN 10776 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:458)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-09-23 18:03:57.196  WARN 10776 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-09-23 18:03:57.196  INFO 10776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:03:57.204  INFO 10776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:03:57.215  INFO 10776 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-09-23 18:03:57.234 ERROR 10776 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]
	at ru.zaroyan.draftcloudstorage.DraftCloudStorageApplication.main(DraftCloudStorageApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.14.jar:2.7.14]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtRequestFilter' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/config/JwtRequestFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#66383c29' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66383c29': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.14.jar:2.7.14]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:922) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.78.jar:9.0.78]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.14.jar:2.7.14]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes/ru/zaroyan/draftcloudstorage/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#66383c29' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66383c29': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usersRepository' defined in ru.zaroyan.draftcloudstorage.repositories.UsersRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#66383c29' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66383c29': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.29.jar:5.3.29]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66383c29': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.29.jar:5.3.29]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.29.jar:5.3.29]
	... 90 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.command.CommandScope.execute(CommandScope.java:236) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:1361) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:215) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284) ~[liquibase-core-4.23.2.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.29.jar:5.3.29]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.29.jar:5.3.29]
	... 99 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.command.CommandScope.execute(CommandScope.java:213) ~[liquibase-core-4.23.2.jar:na]
	... 111 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:197) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:206) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:196) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:175) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:263) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.Scope.child(Scope.java:267) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74) ~[liquibase-core-4.23.2.jar:na]
	... 119 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "user_entity" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO user_entity (login, password) VALUES ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273) ~[liquibase-core-4.23.2.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728) ~[liquibase-core-4.23.2.jar:na]
	... 135 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "user_entity" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461) ~[liquibase-core-4.23.2.jar:na]
	... 140 common frames omitted

2023-09-23 18:06:06.866  INFO 10816 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10816 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:06:06.869  INFO 10816 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:06:07.489  INFO 10816 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:06:07.531  INFO 10816 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-09-23 18:06:07.995  INFO 10816 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:06:08.002  INFO 10816 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:06:08.002  INFO 10816 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:06:08.088  INFO 10816 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:06:08.088  INFO 10816 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1182 ms
2023-09-23 18:06:08.197  INFO 10816 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:06:08.328  INFO 10816 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:06:08.434  INFO 10816 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:06:08.763  INFO 10816 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:06:08.840  INFO 10816 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 18:06:08.859  INFO 10816 --- [main] liquibase.command                        : Using deploymentId: 5481568858
2023-09-23 18:06:08.861  INFO 10816 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:06:08.882  INFO 10816 --- [main] liquibase.changelog                      : Custom SQL executed
2023-09-23 18:06:08.885  INFO 10816 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan ran successfully in 13ms
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : Run:                          1
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : Previously run:               2
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : -------------------------------
2023-09-23 18:06:08.895  INFO 10816 --- [main] liquibase.util                           : Total change sets:            3

2023-09-23 18:06:08.896  INFO 10816 --- [main] liquibase.util                           : Update summary generated
2023-09-23 18:06:08.898  INFO 10816 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 18:06:08.903  INFO 10816 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:06:08.905  INFO 10816 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:06:08.967  INFO 10816 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 18:06:09.025  INFO 10816 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 18:06:09.172  INFO 10816 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 18:06:09.263  INFO 10816 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 18:06:09.855  INFO 10816 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 18:06:09.864  INFO 10816 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:06:10.412  INFO 10816 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e17a9e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a1b4854, org.springframework.security.web.context.SecurityContextPersistenceFilter@20a7ce0, org.springframework.security.web.header.HeaderWriterFilter@4fbed6fc, org.springframework.security.web.authentication.logout.LogoutFilter@1267f832, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@80b70fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7afac89a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76d220eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a175162, org.springframework.security.web.session.SessionManagementFilter@129b0ed, org.springframework.security.web.access.ExceptionTranslationFilter@9cdf13e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df7766b]
2023-09-23 18:06:10.494  WARN 10816 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 18:06:10.775  WARN 10816 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 18:06:10.906  INFO 10816 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 18:06:10.919  INFO 10816 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.434 seconds (JVM running for 5.02)
2023-09-23 18:07:16.061  INFO 10816 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 18:07:16.062  INFO 10816 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 18:07:16.063  INFO 10816 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 18:07:16.075  INFO 10816 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:07:16.272  INFO 10816 --- [http-nio-8080-exec-1] r.z.d.services.RegistrationService       : парампарам
2023-09-23 18:07:16.342  WARN 10816 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2023-09-23 18:07:16.343 ERROR 10816 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "users_login_key"
  Подробности: Key (login)=(User) already exists.
2023-09-23 18:07:16.354 ERROR 10816 --- [http-nio-8080-exec-1] r.z.d.c.RegistrationController           : Ошибка при регистрации пользователя: could not execute statement; SQL [n/a]; constraint [users_login_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2023-09-23 18:07:16.373  INFO 10816 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:07:46.168  INFO 10816 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:07:46.275  INFO 10816 --- [http-nio-8080-exec-4] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: User
2023-09-23 18:07:46.400  INFO 10816 --- [http-nio-8080-exec-4] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем User найден
2023-09-23 18:07:46.868  INFO 10816 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:16:46.498  INFO 10816 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:16:46.503  INFO 10816 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:16:46.510  INFO 10816 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:16:50.339  INFO 10960 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 10960 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:16:50.343  INFO 10960 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:16:50.986  INFO 10960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:16:51.033  INFO 10960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-09-23 18:16:51.524  INFO 10960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:16:51.532  INFO 10960 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:16:51.532  INFO 10960 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:16:51.633  INFO 10960 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:16:51.633  INFO 10960 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1244 ms
2023-09-23 18:16:51.747  INFO 10960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:16:51.880  INFO 10960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:16:51.981  INFO 10960 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:16:52.276  INFO 10960 --- [main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-23 18:16:52.312  INFO 10960 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:16:52.404  INFO 10960 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 18:16:52.430  INFO 10960 --- [main] liquibase.command                        : Using deploymentId: 5482212430
2023-09-23 18:16:52.434  INFO 10960 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:16:52.487  INFO 10960 --- [main] liquibase.changelog                      : Table users created
2023-09-23 18:16:52.490  INFO 10960 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-users-table.yaml::create-users::Zaroyan ran successfully in 39ms
2023-09-23 18:16:52.515  INFO 10960 --- [main] liquibase.changelog                      : Table files created
2023-09-23 18:16:52.518  INFO 10960 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan ran successfully in 16ms
2023-09-23 18:16:52.535  INFO 10960 --- [main] liquibase.changelog                      : Custom SQL executed
2023-09-23 18:16:52.537  INFO 10960 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan ran successfully in 12ms
2023-09-23 18:16:52.544  INFO 10960 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 18:16:52.544  INFO 10960 --- [main] liquibase.util                           : Run:                          3
2023-09-23 18:16:52.544  INFO 10960 --- [main] liquibase.util                           : Previously run:               0
2023-09-23 18:16:52.545  INFO 10960 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 18:16:52.545  INFO 10960 --- [main] liquibase.util                           : -------------------------------
2023-09-23 18:16:52.545  INFO 10960 --- [main] liquibase.util                           : Total change sets:            3

2023-09-23 18:16:52.546  INFO 10960 --- [main] liquibase.util                           : Update summary generated
2023-09-23 18:16:52.547  INFO 10960 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 18:16:52.554  INFO 10960 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:16:52.556  INFO 10960 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:16:52.615  INFO 10960 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 18:16:52.655  INFO 10960 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 18:16:52.794  INFO 10960 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 18:16:52.880  INFO 10960 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 18:16:53.465  INFO 10960 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 18:16:53.473  INFO 10960 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:16:54.038  INFO 10960 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8929865, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@489989eb, org.springframework.security.web.context.SecurityContextPersistenceFilter@510e0dd2, org.springframework.security.web.header.HeaderWriterFilter@3da701a1, org.springframework.security.web.authentication.logout.LogoutFilter@2fb555e8, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@8cd2bb5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f7853af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c56e044, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d97a357, org.springframework.security.web.session.SessionManagementFilter@17d25e1d, org.springframework.security.web.access.ExceptionTranslationFilter@6ddc9001, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b826482]
2023-09-23 18:16:54.122  WARN 10960 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 18:16:54.420  WARN 10960 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 18:16:54.561  INFO 10960 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 18:16:54.575  INFO 10960 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.645 seconds (JVM running for 5.301)
2023-09-23 18:17:22.883  INFO 10960 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 18:17:22.884  INFO 10960 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 18:17:22.886  INFO 10960 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-09-23 18:17:22.896  INFO 10960 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:17:23.091  INFO 10960 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user1
2023-09-23 18:17:23.201  WARN 10960 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user1 не найден
2023-09-23 18:17:23.313  INFO 10960 --- [http-nio-8080-exec-1] r.z.d.controllers.AuthController         : Ошибка аутентификации: Bad credentials
2023-09-23 18:17:23.332  INFO 10960 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:17:35.077  INFO 10960 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:17:35.187  INFO 10960 --- [http-nio-8080-exec-3] r.z.d.services.RegistrationService       : парампарам
2023-09-23 18:17:35.251  INFO 10960 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:17:41.280  INFO 10960 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:17:41.386  INFO 10960 --- [http-nio-8080-exec-4] r.z.d.services.RegistrationService       : парампарам
2023-09-23 18:17:41.397  INFO 10960 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:18:23.908  INFO 10960 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:18:23.910  INFO 10960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:18:23.916  INFO 10960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:20:19.014  INFO 11030 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 11030 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:20:19.018  INFO 11030 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:20:19.616  INFO 11030 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:20:19.657  INFO 11030 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-09-23 18:20:20.104  INFO 11030 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:20:20.112  INFO 11030 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:20:20.112  INFO 11030 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:20:20.192  INFO 11030 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:20:20.192  INFO 11030 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1130 ms
2023-09-23 18:20:20.297  INFO 11030 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:20:20.429  INFO 11030 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:20:20.525  INFO 11030 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:20:20.807  INFO 11030 --- [main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-23 18:20:20.847  INFO 11030 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:20:20.947  INFO 11030 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-23 18:20:20.970  INFO 11030 --- [main] liquibase.command                        : Using deploymentId: 5482420970
2023-09-23 18:20:20.974  INFO 11030 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:20:21.008  INFO 11030 --- [main] liquibase.changelog                      : Table users created
2023-09-23 18:20:21.011  INFO 11030 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-users-table.yaml::create-users::Zaroyan ran successfully in 19ms
2023-09-23 18:20:21.035  INFO 11030 --- [main] liquibase.changelog                      : Table files created
2023-09-23 18:20:21.037  INFO 11030 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create-files-table.yaml::create-files::Zaroyan ran successfully in 15ms
2023-09-23 18:20:21.052  INFO 11030 --- [main] liquibase.changelog                      : Custom SQL executed
2023-09-23 18:20:21.054  INFO 11030 --- [main] liquibase.changelog                      : Custom SQL executed
2023-09-23 18:20:21.056  INFO 11030 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert-users-data-changelog.yaml::insert-users::Zaroyan ran successfully in 13ms
2023-09-23 18:20:21.063  INFO 11030 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 18:20:21.063  INFO 11030 --- [main] liquibase.util                           : Run:                          3
2023-09-23 18:20:21.064  INFO 11030 --- [main] liquibase.util                           : Previously run:               0
2023-09-23 18:20:21.064  INFO 11030 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 18:20:21.064  INFO 11030 --- [main] liquibase.util                           : -------------------------------
2023-09-23 18:20:21.064  INFO 11030 --- [main] liquibase.util                           : Total change sets:            3

2023-09-23 18:20:21.065  INFO 11030 --- [main] liquibase.util                           : Update summary generated
2023-09-23 18:20:21.066  INFO 11030 --- [main] liquibase.command                        : Update command completed successfully.
2023-09-23 18:20:21.072  INFO 11030 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:20:21.074  INFO 11030 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:20:21.121  INFO 11030 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 18:20:21.150  INFO 11030 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 18:20:21.251  INFO 11030 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 18:20:21.322  INFO 11030 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 18:20:21.802  INFO 11030 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 18:20:21.810  INFO 11030 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:20:22.287  INFO 11030 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74f9004c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f2a0909, org.springframework.security.web.context.SecurityContextPersistenceFilter@22f1a340, org.springframework.security.web.header.HeaderWriterFilter@4c69b396, org.springframework.security.web.authentication.logout.LogoutFilter@535adf36, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@2cdcedef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aa5292d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25291901, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34947355, org.springframework.security.web.session.SessionManagementFilter@4d5d945d, org.springframework.security.web.access.ExceptionTranslationFilter@73c6ebec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed3e66d]
2023-09-23 18:20:22.354  WARN 11030 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 18:20:22.607  WARN 11030 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 18:20:22.732  INFO 11030 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 18:20:22.744  INFO 11030 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 4.104 seconds (JVM running for 4.679)
2023-09-23 18:20:40.637  INFO 11030 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-23 18:20:40.637  INFO 11030 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-09-23 18:20:40.639  INFO 11030 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-09-23 18:20:40.649  INFO 11030 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:20:40.833  INFO 11030 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user1
2023-09-23 18:20:40.976  INFO 11030 --- [http-nio-8080-exec-1] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user1 найден
2023-09-23 18:20:41.122  INFO 11030 --- [http-nio-8080-exec-1] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:20:46.760  INFO 11030 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:20:46.763  INFO 11030 --- [http-nio-8080-exec-3] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user2
2023-09-23 18:20:46.777  INFO 11030 --- [http-nio-8080-exec-3] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user2 найден
2023-09-23 18:20:46.882  INFO 11030 --- [http-nio-8080-exec-3] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:20:56.805  INFO 11030 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вошли в фильтр JwtRequestFilter
2023-09-23 18:20:56.807  INFO 11030 --- [http-nio-8080-exec-4] r.z.d.services.UserDetailsServiceImpl    : Запрошена загрузка пользователя с именем: user1
2023-09-23 18:20:56.813  INFO 11030 --- [http-nio-8080-exec-4] r.z.d.services.UserDetailsServiceImpl    : Пользователь с именем user1 найден
2023-09-23 18:20:56.919  INFO 11030 --- [http-nio-8080-exec-4] r.z.d.config.JwtRequestFilter            : вышли из фильтра JwtRequestFilter
2023-09-23 18:22:15.441  INFO 11030 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:22:15.443  INFO 11030 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:22:15.450  INFO 11030 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-23 18:22:37.080  INFO 11064 --- [main] r.z.d.DraftCloudStorageApplication       : Starting DraftCloudStorageApplication using Java 11.0.18 on mac with PID 11064 (/Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage/target/classes started by albertzaroyan in /Users/albertzaroyan/Documents/Java_project/Homeworks/draftCloudStorage)
2023-09-23 18:22:37.084  INFO 11064 --- [main] r.z.d.DraftCloudStorageApplication       : No active profile set, falling back to 1 default profile: "default"
2023-09-23 18:22:37.663  INFO 11064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-23 18:22:37.707  INFO 11064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-09-23 18:22:38.180  INFO 11064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-09-23 18:22:38.187  INFO 11064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-09-23 18:22:38.187  INFO 11064 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-09-23 18:22:38.270  INFO 11064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-09-23 18:22:38.271  INFO 11064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1142 ms
2023-09-23 18:22:38.380  INFO 11064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-23 18:22:38.504  INFO 11064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-23 18:22:38.603  INFO 11064 --- [main] liquibase.database                       : Set default schema name to public
2023-09-23 18:22:38.921  INFO 11064 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:22:38.966  INFO 11064 --- [main] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-23 18:22:38.972  INFO 11064 --- [main] liquibase.util                           : UPDATE SUMMARY
2023-09-23 18:22:38.973  INFO 11064 --- [main] liquibase.util                           : Run:                          0
2023-09-23 18:22:38.973  INFO 11064 --- [main] liquibase.util                           : Previously run:               3
2023-09-23 18:22:38.973  INFO 11064 --- [main] liquibase.util                           : Filtered out:                 0
2023-09-23 18:22:38.973  INFO 11064 --- [main] liquibase.util                           : -------------------------------
2023-09-23 18:22:38.973  INFO 11064 --- [main] liquibase.util                           : Total change sets:            3

2023-09-23 18:22:38.974  INFO 11064 --- [main] liquibase.util                           : Update summary generated
2023-09-23 18:22:38.998  INFO 11064 --- [main] liquibase.lockservice                    : Successfully released change log lock
2023-09-23 18:22:39.001  INFO 11064 --- [main] liquibase.command                        : Command execution complete
2023-09-23 18:22:39.050  INFO 11064 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-23 18:22:39.078  INFO 11064 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-09-23 18:22:39.195  INFO 11064 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-09-23 18:22:39.266  INFO 11064 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-23 18:22:39.742  INFO 11064 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-23 18:22:39.751  INFO 11064 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:22:40.223  INFO 11064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f8035d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a7b4ff5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d7a343f, org.springframework.security.web.header.HeaderWriterFilter@2a49753, org.springframework.security.web.authentication.logout.LogoutFilter@24ea71d, ru.zaroyan.draftcloudstorage.config.JwtRequestFilter@b867869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bd6bfb0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b9c386d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a20aa4e, org.springframework.security.web.session.SessionManagementFilter@1784fcab, org.springframework.security.web.access.ExceptionTranslationFilter@171b0d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64821706]
2023-09-23 18:22:40.290  WARN 11064 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-09-23 18:22:40.536  WARN 11064 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2023-09-23 18:22:40.653  INFO 11064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-09-23 18:22:40.665  INFO 11064 --- [main] r.z.d.DraftCloudStorageApplication       : Started DraftCloudStorageApplication in 3.97 seconds (JVM running for 4.651)
2023-09-23 18:22:52.809  INFO 11064 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-23 18:22:52.812  INFO 11064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-23 18:22:52.820  INFO 11064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
